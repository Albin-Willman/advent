#!/usr/bin/env ruby
require "./task.rb"


test_1 = [
'.#..#',
'.....',
'#####',
'....#',
'...##'
].map { |r| r.split('') }

am = AstroidMap.new(test_1)
am.compute_visibility
am.astroids.each do |k, a|
	puts "#{k} => #{a.number_of_visible_astroids}"
end
am.place_laser

test_2 = [
'.#..##.###...#######',
'##.############..##.',
'.#.######.########.#',
'.###.#######.####.#.',
'#####.##.#.##.###.##',
'..#####..#.#########',
'####################',
'#.####....###.#.#.##',
'##.#################',
'#####.##.###..####..',
'..######..##.#######',
'####.##.####...##..#',
'.#####..#.######.###',
'##...#.##########...',
'#.##########.#######',
'.####.#.###.###.#.##',
'....##.##.###..#####',
'.#.#.###########.###',
'#.#.#.#####.####.###',
'###.##.####.##.#..##'
].map { |r| r.split('') }

am = AstroidMap.new(test_2)
am.compute_visibility
am.place_laser

am.vaporize(200)

a = am.vaporized_astroids.last
puts "#{a.x}-#{a.y}"



